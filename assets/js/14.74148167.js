(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{418:function(s,t,a){"use strict";a.r(t);var e=a(2),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"docker安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker安装"}},[s._v("#")]),s._v(" Docker安装")]),s._v(" "),t("h3",{attrs:{id:"linux安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux安装"}},[s._v("#")]),s._v(" Linux安装")]),s._v(" "),t("ul",[t("li",[s._v("方式一：一键安装脚本")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -qO- https://get.docker.com/ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果上面的不行，执行下面两句")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-fsSL")]),s._v(" https://get.docker.com "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" get-docker.sh\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" get-docker.sh\n\n$ "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装成功执行下面语句，如果有类似回显，说明安装成功")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\nDocker version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.0")]),s._v(".1, build a5ee5b1\n")])])]),t("ul",[t("li",[s._v("方式二：二进制安装")])]),s._v(" "),t("h3",{attrs:{id:"mac安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac安装"}},[s._v("#")]),s._v(" Mac安装")]),s._v(" "),t("p",[s._v("下载：https://download.docker.com/mac/stable/Docker.dmg"),t("br"),s._v("\n双击安装")]),s._v(" "),t("h3",{attrs:{id:"增加普通用户docker权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加普通用户docker权限"}},[s._v("#")]),s._v(" 增加普通用户Docker权限")]),s._v(" "),t("ul",[t("li",[s._v("参考："),t("a",{attrs:{href:"https://www.cnblogs.com/lxsky/p/12829864.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.cnblogs.com/lxsky/p/12829864.html"),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("root用户新建docker组：groupadd docker")]),s._v(" "),t("li",[s._v("使用普通用户appdeploy执行：")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gpasswd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\nnewgrp "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 没有sudo权限需要按照下面进行配置")]),s._v("\na. 首先找到文件位置，示例中文件在/etc/sudoers位置。\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whereis")]),s._v(" sudoers\n\nb.强调内容 修改文件权限，一般文件默认为只读。\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" /etc/sudoers 查看文件权限\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" u+w /etc/sudoers 修改文件权限为可编辑\n\nc. 修改文件，在如下位置增加一行，保存退出。\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sudoers 进入文件编辑器\n文件内容改变如下：\nroot "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ALL 已有行\nappdeploy "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ALL 新增行\n\nd. 记得将文件权限还原回只读。\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" /etc/sudoers 查看文件权限\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" u-w /etc/sudoers 修改文件权限为只读\n")])])]),t("p",[s._v("如果上面没有生效，再重启下docker")]),s._v(" "),t("ul",[t("li",[s._v("systemctl daemon-reload")]),s._v(" "),t("li",[s._v("systemctl restart docker")])]),s._v(" "),t("h2",{attrs:{id:"docker-compose安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose安装"}},[s._v("#")]),s._v(" Docker-Compose安装")]),s._v(" "),t("ul",[t("li",[s._v("方式一：pip3安装\n"),t("ul",[t("li",[s._v("有网络情况："),t("br"),s._v("\npip3 install docker-compose")]),s._v(" "),t("li",[s._v("无网络情况："),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用有网络的电脑下载并上传")]),s._v("\npip3 download  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" /root/software/python3.7/pippackage/ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\npip3 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --no-index --find-links"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/root/software/python3.7/pippackage/ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v("\n")])])])])])]),s._v(" "),t("li",[s._v("方式二: 二进制安装\n"),t("ul",[t("li",[s._v("Linux安装：直接从 "),t("a",{attrs:{href:"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/docker/compose/releases"),t("OutboundLink")],1),s._v(" 找到合适的版本下载docker-compose-Linux-x86_64")]),s._v(" "),t("li",[s._v("接着上传到linux服务器")])])])]),s._v(" "),t("h2",{attrs:{id:"k8s安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#k8s安装"}},[s._v("#")]),s._v(" K8s安装")])])}),[],!1,null,null,null);t.default=r.exports}}]);